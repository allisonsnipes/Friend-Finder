<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Friend Finder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- for boostrap css code -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" media="screen" href="../public/css/main.css" />
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h1>Survey Questions</h1>
        <hr>

        <fieldset>
          <form>
              <h3> About you </h3>

              <div class="form-group">
                <label for="userName">Name (required)</label>
                <input type="text" name="usrname" placeholder="Name" required>

                <label for="pic">Link to Photo Image (Required)</label>
                <input type="text" id="photo" placeholder="upload a photo..." required>
              </div>
            <hr>
          

            <div class="form-group">
              <label for="q1">Question 1: What is your idea of a good night out? </label>
              <br>
              <select class="form-control form-control-sm" id="q1">
                <option value="1">Visit to the theatre or opera</option>
                <option value="2">Romantic dinner for two</option>
                <option value="3">Karaoke at the local pub</option>
                <option value="4">Drinks and then clubbing</option>
                <option value="5">Watching a football</option>
              </select>
            </div>

            <div class="form-group">
              <label for="q2">Question 2: Which of these would be your ideal holiday?</label>
              <br>
              <select class="form-control form-control-sm" id="q2">
                <option value="1">Activity-based (e.g. skiing) </option>
                <option value="2">Spending time in a luxury hotel</option>
                <option value="3">Exploring the Far East</option>
                <option value="4">Lying on a beach somewhere sunny</option>
                <option value="5">Going to the countryside to a cottage</option>
              </select>
            </div>

            <div class="form-group">
              <label for="q3">Question 3: How would you best describe your character?</label>
              <br>
              <select class="form-control form-control-sm" id="q3">
                <option value="1">Shy and reserved</option>
                <option value="2">Expressive</option>
                <option value="3">Open and chatty</option>
                <option value="4">Humorous, but hide feelings</option>
                <option value="5">Uncomplicated (e.g. easy-going)</option>
              </select>
            </div>

            <div class="form-group">
              <label for="q4">Question 4: How would you best describe your character?</label>
              <br>
              <select class="form-control form-control-sm" id="q4">
                <option value="1">Shy and reserved</option>
                <option value="2">Expressive</option>
                <option value="3">Open and chatty</option>
                <option value="4">Humorous, but hide feelings</option>
                <option value="5">Uncomplicated (e.g. easy-going)</option>
              </select>
            </div>

            <div class="form-group">
              <label for="q5">Question 5: What are the most important characteristics in a partner?</label>
              <br>
              <select class="form-control form-control-sm" id="q5">
                <option value="1">Good looks and style</option>
                <option value="2">Loyal, kind, trustworthiness</option>
                <option value="3">Sense of fun and/or love of life</option>
                <option value="4">Dynamic and/or successful</option>
                <option value="5">Passionate and adventurous</option>
              </select>
            </div>

            <div class="form-group">
              <label for="q6">Question 6: How would you describe your parents' marriage?</label>
              <br>
              <select class="form-control form-control-sm" id="q6">
                <option value="1">Up and down but good</option>
                <option value="2">Separated and/or divorced</option>
                <option value="3">Not close, but stayed together</option>
                <option value="4">Happy, affectionate, loving</option>
                <option value="5">Acrimonious and/or argumentative</option>
              </select>
            </div>

            <div class="form-group">
              <label for="q7">Question 7: What were your family's financial circumstances?</label>
              <br>
              <select class="form-control form-control-sm" id="q7">
                <option value="1">Affluent, plenty for all of us</option>
                <option value="2">Comfortable</option>
                <option value="3">Struggling, money was tight</option>
                <option value="4">Varied from lots to little</option>
                <option value="5">Hard</option>
              </select>
            </div>

            <div class="form-group">
              <label for="q8">Question 8: Choose the traits you least like in someone?</label>
              <br>
              <select class="form-control form-control-sm" id="q8">
                <option value="1">Messiness</option>
                <option value="2">Infidelity</option>
                <option value="3">Meanness and/or Selfishness</option>
                <option value="4">No ambition</option>
                <option value="5">Negative attitude and/or sulkiness</option>
              </select>
            </div>

            <div class="form-group">
              <label for="q9">Question 9: Do you smoke, and how often??</label>
              <br>
              <select class="form-control form-control-sm" id="q9">
                <option value="5">Not a smoker</option>
                <option value="4">Socially</option>
                <option value="1">1 pack a week</option>
                <option value="2">2 - 3 packs a week</option>
                <option value="3">3 - 4 packs a week</option>
              </select>
            </div>

            <div class="form-group">
              <label for="q10">Question 10: Do you smoke, and how often??</label>
              <br>
              <select class="form-control form-control-sm" id="q10">
                <option value="5">Not a smoker</option>
                <option value="4">Socially</option>
                <option value="1">1 pack a week</option>
                <option value="2">2 - 3 packs a week</option>
                <option value="3">3 - 4 packs a week</option>
              </select>
            </div>

            <div id="results">
            </div>

            <br>
            <button type="submit" class="btn btn-primary" id="submit">Submit</button>
          </form>
        </fieldset>
      </div>
    </div>
  </div>
</body>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <p>
          <a href="/api/friends"> API Friends List</a> | <a href="github.com/allisonsnipes">Github Repo</a>
        </p>
      </div>
    </div>
  </div>

</footer>
<!-- boostrap code -->
<!-- making request to backend code -->
<script>
document.getElementById('submit').onclick = function(e){
  e.preventDefault();
  console.log("quiz submited")
  var q1 = document.getElementById("q1").value
  var q2 = document.getElementById("q2").value
  var q3 = document.getElementById("q3").value
  var q4 = document.getElementById("q4").value
  var q5 = document.getElementById("q5").value
  var q6 = document.getElementById("q6").value
  var q7 = document.getElementById("q7").value
  var q8 = document.getElementById("q8").value
  var q9 = document.getElementById("q9").value
  var q10 = document.getElementById("q10").value
  console.log(q1)
  var scores = [q1, q2, q3, q4, q5, q6, q7, q8, q9, q10]

  function saveExample() {
    return fetch('api/friends', {
    method: 'POST',
      headers: {
	      'Content-Type': 'application/json'
      },
     body: JSON.stringify({scores: scores})
	  })
    .then(
      function (response) {
        response.json()
        .then(
          function (data) {
            console.log(data)
            let name = data.name
            let photo = data.photo
            document.getElementById("results").innerHTML = "<h1>" + name + "</h1>" + "<img src=" + photo + "/>" 
          }
        )
      }
    )
  }
  saveExample()
}

</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
  integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
  integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</html>